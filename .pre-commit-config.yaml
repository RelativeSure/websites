repos:
    # Standard pre-commit hooks
    - repo: https://github.com/pre-commit/pre-commit-hooks
      rev: v5.0.0
      hooks:
          - id: check-json
          - id: check-yaml
          - id: check-added-large-files
            args: ["--maxkb=1000"]
          - id: check-merge-conflict
          - id: detect-private-key
          - id: end-of-file-fixer
          - id: trailing-whitespace
            args: ["--markdown-linebreak-ext=md,mdx"]

    # Secret scanning
    - repo: https://github.com/gitleaks/gitleaks
      rev: v8.21.2
      hooks:
          - id: gitleaks

    # Spell checking
    - repo: https://github.com/codespell-project/codespell
      rev: v2.4.1
      hooks:
          - id: codespell
            exclude: ^(.*node_modules/.*|.*\.next/.*|.*dist/.*|.*\.astro/.*|.*pnpm-lock\.yaml$|.*package-lock\.json$|.*yarn\.lock$)$

    # Biome - fumadocs
    - repo: local
      hooks:
          - id: biome-check-fumadocs
            name: Biome lint & format (fumadocs)
            entry: bash -c 'cd fumadocs && npx @biomejs/biome check --write --unsafe . || exit 0'
            language: system
            files: ^fumadocs/.*\.(js|jsx|ts|tsx|json|jsonc)$
            pass_filenames: false

    # Biome - starlight
    - repo: local
      hooks:
          - id: biome-check-starlight
            name: Biome lint & format (starlight)
            entry: bash -c 'cd starlight && npx @biomejs/biome check --write --unsafe . || exit 0'
            language: system
            files: ^starlight/.*\.(js|jsx|ts|tsx|json|jsonc|astro)$
            pass_filenames: false

    # Biome - tools
    - repo: local
      hooks:
          - id: biome-check-tools
            name: Biome lint & format (tools)
            entry: bash -c 'cd tools && npx @biomejs/biome check --write --unsafe . || exit 0'
            language: system
            files: ^tools/.*\.(js|jsx|ts|tsx|json|jsonc)$
            pass_filenames: false

    # TypeScript type checking - fumadocs (warn-only)
    - repo: local
      hooks:
          - id: typescript-check-fumadocs
            name: TypeScript type check (fumadocs)
            entry: bash -c 'cd fumadocs && npx tsc --noEmit || true'
            language: system
            files: ^fumadocs/.*\.(ts|tsx)$
            pass_filenames: false
            verbose: true

    # Astro type checking - starlight (warn-only)
    - repo: local
      hooks:
          - id: astro-check
            name: Astro check (starlight)
            entry: bash -c 'cd starlight && npx astro check || true'
            language: system
            files: ^starlight/.*\.(astro|ts|tsx|js|jsx)$
            pass_filenames: false
            verbose: true

    # TypeScript type checking - tools (warn-only)
    - repo: local
      hooks:
          - id: typescript-check-tools
            name: TypeScript type check (tools)
            entry: bash -c 'cd tools && npx tsc --noEmit || true'
            language: system
            files: ^tools/.*\.(ts|tsx)$
            pass_filenames: false
            verbose: true

    # Commit message linting (commit-msg stage)
    # - repo: https://github.com/alessandrojcm/commitlint-pre-commit-hook
    #   rev: v9.23.0
    #   hooks:
    #       - id: commitlint
    #         stages: [commit-msg]
    #         additional_dependencies: ["@commitlint/config-conventional@19.0.0"]
