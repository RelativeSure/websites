name = "websites-tools"
main = "src/index.ts"
compatibility_date = "2024-11-01"

# Watch only files in the tools directory (for monorepo)
watch_paths = [
  "app/**",
  "components/**",
  "hooks/**",
  "lib/**",
  "public/**",
  "src/**",
  "*.ts",
  "*.tsx",
  "*.js",
  "*.json",
  "wrangler.toml"
]

# Use Workers Assets to serve static Next.js build
[assets]
directory = ".vercel/output/static"
binding = "ASSETS"

[build]
command = "pnpm pages:build"
watch_paths = [
  "app/**",
  "components/**",
  "hooks/**",
  "lib/**",
  "public/**",
  "src/**",
  "next.config.ts",
  "tailwind.config.ts",
  "package.json"
]

[vars]
NODE_VERSION = "v24"
PNPM_VERSION = "10"